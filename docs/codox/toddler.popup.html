<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>toddler.popup documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>toddler</span></div></div></li><li class="depth-2 branch"><a href="toddler.app.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>app</span></div></a></li><li class="depth-2 branch"><a href="toddler.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="toddler.date.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>date</span></div></a></li><li class="depth-2 branch"><a href="toddler.dropdown.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dropdown</span></div></a></li><li class="depth-2"><a href="toddler.i18n.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>i18n</span></div></a></li><li class="depth-3 branch"><a href="toddler.i18n.keyword.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>keyword</span></div></a></li><li class="depth-3 branch"><a href="toddler.i18n.number.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>number</span></div></a></li><li class="depth-3 branch"><a href="toddler.i18n.time.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>time</span></div></a></li><li class="depth-3"><a href="toddler.i18n.uuid.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>uuid</span></div></a></li><li class="depth-2 branch"><a href="toddler.layout.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-2 branch"><a href="toddler.lazy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazy</span></div></a></li><li class="depth-2 branch"><a href="toddler.multiselect.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>multiselect</span></div></a></li><li class="depth-2 branch"><a href="toddler.notifications.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>notifications</span></div></a></li><li class="depth-2 branch current"><a href="toddler.popup.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>popup</span></div></a></li><li class="depth-2 branch"><a href="toddler.router.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>router</span></div></a></li><li class="depth-2 branch"><a href="toddler.table.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table</span></div></a></li><li class="depth-2 branch"><a href="toddler.ui.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ui</span></div></a></li><li class="depth-2"><a href="toddler.window.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>window</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="toddler.popup.html#var-*area-element*"><div class="inner"><span>*area-element*</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-*container*"><div class="inner"><span>*container*</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-*offset*"><div class="inner"><span>*offset*</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-*outside-action-channel*"><div class="inner"><span>*outside-action-channel*</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-*position*"><div class="inner"><span>*position*</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-adjust-scroll-width"><div class="inner"><span>adjust-scroll-width</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-Area"><div class="inner"><span>Area</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-best-candidate"><div class="inner"><span>best-candidate</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-computation-props"><div class="inner"><span>computation-props</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-compute-candidate"><div class="inner"><span>compute-candidate</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-compute-container-props"><div class="inner"><span>compute-container-props</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-Container"><div class="inner"><span>Container</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-default-preference"><div class="inner"><span>default-preference</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-Element"><div class="inner"><span>Element</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-ok-candidate.3F"><div class="inner"><span>ok-candidate?</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-use-focusable-items"><div class="inner"><span>use-focusable-items</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-use-outside-action"><div class="inner"><span>use-outside-action</span></div></a></li><li class="depth-1"><a href="toddler.popup.html#var-wrap-container"><div class="inner"><span>wrap-container</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">toddler.popup</h1><div class="doc"><div class="markdown"><p>Popup namespace that offers components and functions that focus on popup placement.</p>
<p>Use Container component from this namespace as close to mounted react element as possible.</p>
<p>All popup elements will look for Container component and render at that DOM element.</p>
<p>There are few preference position sequences available</p>
<pre><code class="language-clojure">(def default-preference
  [#{:bottom :left}
   #{:bottom :right}
   #{:top :left}
   #{:top :right}
   #{:bottom :center}
   #{:top :center}
   #{:left :center}
   #{:right :center}])


</code></pre>
<p>In addition to default-preferences other available preferences are:</p>
<ul>
<li>central-preference</li>
<li>left-preference</li>
<li>right-preference</li>
<li>cross-preference</li>
</ul>
<p>Following components and hooks should be used in most cases:</p>
<ul>
<li><a href="toddler.popup.html#var-Container">Container</a></li>
<li><a href="toddler.popup.html#var-Area">Area</a></li>
<li><a href="toddler.popup.html#var-Element">Element</a></li>
<li><a href="toddler.popup.html#var-use-outside-action">use-outside-action</a></li>
</ul>
</div></div><div class="public anchor" id="var-*area-element*"><h3>*area-element*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Area element context. Area element is DOM element that will cause popup to appear on user event</p>
</div></div></div><div class="public anchor" id="var-*container*"><h3>*container*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Is container context. Container is component where popups will be mounted using reacts <strong>createPortal</strong> function.</p>
</div></div></div><div class="public anchor" id="var-*offset*"><h3>*offset*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Offset context. How much in px is offset for popup from PopupArea element</p>
</div></div></div><div class="public anchor" id="var-*outside-action-channel*"><h3>*outside-action-channel*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Context for outside action channel. This channel will receive events when scroll or click outside happened</p>
</div></div></div><div class="public anchor" id="var-*position*"><h3>*position*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Position of popup. Value should be set of max two keywords</p>
<ul>
<li>:top</li>
<li>:bottom</li>
<li>:left</li>
<li>:right</li>
<li>:center</li>
</ul>
</div></div></div><div class="public anchor" id="var-adjust-scroll-width"><h3>adjust-scroll-width</h3><div class="usage"><code>(adjust-scroll-width data)</code><code>(adjust-scroll-width {:keys [position], :as data} scroll-width)</code></div><div class="doc"><div class="markdown"><p>Keep in mind that scroll can appear. This function will move computed candidate for scroll-width</p>
</div></div></div><div class="public anchor" id="var-Area"><h3>Area</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Component that will generate div element around children that will be provided as <code>*area-element*</code> context.</p>
<p>It is element that will listen for user events and open popup</p>
</div></div></div><div class="public anchor" id="var-best-candidate"><h3>best-candidate</h3><div class="usage"><code>(best-candidate candidates)</code></div><div class="doc"><div class="markdown"><p>For given number of candidates, this function will find candidate that has least overflow, that is candidate that has most visibility</p>
</div></div></div><div class="public anchor" id="var-computation-props"><h3>computation-props</h3><div class="usage"><code>(computation-props target el)</code></div><div class="doc"><div class="markdown"><p>For given target (popup area) element and popup element function will return map with keys that are important for popup position computation:</p>
<ul>
<li>:top, :left, :right :bottom keys</li>
<li>:popup-width, :popup-height</li>
<li>:half-popup-width, :half-popup-height</li>
<li>:vertical-center, horizontal-center</li>
<li>:window-width :window-height</li>
</ul>
</div></div></div><div class="public anchor" id="var-compute-candidate"><h3>compute-candidate</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Function will compute candidate for popup element bounding rect by specifying prefered position. I.E. for #{:bottom :left} position function will enrich input data with keys</p>
<ul>
<li>:position/left</li>
<li>:position/right</li>
<li>:position/top</li>
<li>:position/bottom</li>
<li>:overflow/top</li>
<li>:overflow/bottom</li>
<li>:overflow/left</li>
<li>:overflow/right</li>
</ul>
</div></div></div><div class="public anchor" id="var-compute-container-props"><h3>compute-container-props</h3><div class="usage"><code>(compute-container-props target el)</code><code>(compute-container-props target el preference)</code></div><div class="doc"><div class="markdown"><p>For given popup area and popup element function will return candidate that is most suitable for showing popup</p>
</div></div></div><div class="public anchor" id="var-Container"><h3>Container</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Component that in most cases is instantiated only once. Somewhere near react mounted component.</p>
<p>This component is target for popups to mount. So Element function will look for this component that will provide <code>*container*</code> context and mount popup in Container.</p>
</div></div></div><div class="public anchor" id="var-default-preference"><h3>default-preference</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Sequence of prefered positions. First :bottom positions are tested, than :top positions and finally central</p>
</div></div></div><div class="public anchor" id="var-Element"><h3>Element</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Creates fixed positioned div element that is positioned based on preference to <em>area</em> context element.</p>
<p>Popup size will adjust to content that is inside of this element. Props:</p>
<ul>
<li>:preference - position preference in form of sequence with set options. I.E. <code>[#{:bottom :left} #{:top :left}]</code></li>
<li>:style      - style that will override Element div</li>
<li>:offset     - distance between Area and Element</li>
<li>:on-change  - when popup position changes this will be called</li>
</ul>
</div></div></div><div class="public anchor" id="var-ok-candidate.3F"><h3>ok-candidate?</h3><div class="usage"><code>(ok-candidate? {:keys [overflow/top overflow/bottom overflow/left overflow/right], :as candidate})</code></div><div class="doc"><div class="markdown"><p>Returns true if candidate didnâ€™t overflow. Than this position is OK</p>
</div></div></div><div class="public anchor" id="var-use-focusable-items"><h3>use-focusable-items</h3><div class="usage"><code>(use-focusable-items)</code><code>(use-focusable-items direction)</code></div><div class="doc"><div class="markdown"><p>Should be used with popups that can focus some option or elmenent. Like dropdowns or multiselects</p>
<p>Hook will return <code>ref-fn</code> and <code>focus-option</code> function.</p>
<p><code>ref-fn</code> accepts option and binds that option element with ref to DOM element in internal state.</p>
<p>When focus-option function is called for some option it will use .scrollIntoView to focus that option, by pulling out ref from internal memory using input option</p>
</div></div></div><div class="public anchor" id="var-use-outside-action"><h3>use-outside-action</h3><div class="usage"><code>(use-outside-action area handler)</code><code>(use-outside-action area popup handler)</code><code>(use-outside-action opened area popup handler)</code></div><div class="doc"><div class="markdown"><p>Hook accepts area and optionally popup element and handler that will be called when outside click or scroll actions are made.</p>
</div></div></div><div class="public anchor" id="var-wrap-container"><h3>wrap-container</h3><div class="usage"><code>(wrap-container component)</code></div><div class="doc"><div class="markdown"><p>Wrapper that will use Container component to render children if user is authorized</p>
</div></div></div></div></body></html>